<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Saferoad</title>

    <!-- Bootstrap Core CSS -->
	<!--    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">-->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-select.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="css/animate.css" rel="stylesheet" />
    <!-- Squad theme CSS -->
    <link href="css/style.css" rel="stylesheet">
	<link href="color/default.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/d3.slider.css" media="screen" />

    <style>
        body {
            font: 11px sans-serif;
        }

        .node rect {
            fill-opacity: .9;
            shape-rendering: crispEdges;
        }

        .node text {
            pointer-events: none;
            //text-shadow: 0 1px 0 #fff;
            font-weight: bold;
        }

        .node rect:hover {
            fill-opacity: .6;
            stroke-width: 2;
            font-weight: bold;
        }

        .link {
            fill-opacity: .2;
            stroke: none;
            stroke-opacity: .2;
        }

            .link:hover {
                fill-opacity: .5;
            }

        .axis path,
        .axis line {
            fill: none;
            stroke: black;
            shape-rendering: crispEdges;
        }

        .axis text {
            font-family: sans-serif;
            font-size: 10px;
            transform: rotate(0deg);
        }

        .datarect {
            fill: steelblue;
        }

            .datarect:hover {

                fill: #bbbbbb;
            }

        .title {
            font: 18px sans-serif;
        }

        /*#center_elements {
            display: table;


        }*/

        #wheel {
            //border: thin solid #A8A8A8;
        }

        .bleh:hover {
            fill: url(#hover_gradient);
        }

        .up-down {
            background: rgba(0, 110, 227, 0.5);
            color: #fff;
            font-size: 14px;
            text-decoration: none;
            cursor: pointer;
            border: none;
            padding-right: 150px;
            padding-left: 150px;
        }

            .up-down:hover {
                border: none;
                background: rgba(0, 110, 227, 1);
            }

        .axis line {
            stroke: #E5E5E5;
            stroke-opacity: .5;
            shape-rendering: crispEdges;
        }

        .selectTitle {
			padding-bottom: 4px;
			padding-left: 5px;
        }

     .fact-box { margin:10px; padding:10px; }

	 .instructions {
       padding:20px;
       font-size:14px;
     }

	.underline {
		text-decoration: underline;
	}

	.inlineBlock {
		display:inline-block;
	}

	.text-to-columns {
	   -webkit-column-count: 2;
		  -moz-column-count: 2;
			   column-count: 2;

	   -webkit-column-gap: 20px;
		  -moz-column-gap: 20px;
			   column-gap: 20px;
	}

  .paddingTop10 {
      padding-top:10px;
    }

    </style>
<!--styles used for saferoad -->
<style>
  #map { width: 400px; height: 500px;
    display:inline-block;
    margin-top:20px;
  }

  #smallMap { width: 200px; height: 200px;
    display:inline-block;
    margin-top:20px;
  }

  .leaflet-popup-content-wrapper {
    background: rgb(111, 51, 51);
    box-shadow: 0 3px 14px rgba(0,0,0,0.4);
  }

  body {
    font: 10px sans-serif;
  }

  .axis path,
  .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }

  .line {
    fill: none;
    stroke: steelblue;
    stroke-width: 1.5px;
  }

  .legend {
      line-height: 18px;
      color: #555;
  }
  .legend i {
      width: 18px;
      height: 12px;
      float: left;
      margin-right: 8px;
      opacity: 1;
  }

  .info {
    padding: 6px 8px;
    font: 12px Arial, Helvetica, sans-serif;
    background: white;
    background: rgba(255,255,255,0.8);
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    border-radius: 5px;
  }
  .info h4 {
    margin: 0 0 5px;
    color: #777;
  }

  .zipInfo {
    padding: 6px 8px;
    font: 12px Arial, Helvetica, sans-serif;
    background: white;
    background: rgba(255,255,255);
    box-shadow: 0 0 20px rgba(0,0,0,0.8);
    border-radius: 5px;
    position:absolute;
    width: 200;
    width: 500px;
    height: 450px;
    margin-left:20px;
    z-index:1000;
  }

  .overlay {
    fill: none;
    pointer-events: all;
  }

  .focus circle {
    fill: none;
    stroke: steelblue;
  }

  h4 {
    display:inline-block;

  }

  .dot:hover {
    fill: orangered ;
  }

  .d3-tip {
  /*line-height: 1;*/
  font-size:12px;
  font-weight: bold;
  padding: 8px;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  border-radius: 2px;
}

/* Creates a small triangle extender for the tooltip */
.d3-tip:after {
  box-sizing: border-box;
  display: inline;
  font-size: 10px;
  width: 100%;
  line-height: 1;
  color: rgba(0, 0, 0, 0.8);
  content: "\25BC";
  position: absolute;
  text-align: center;
}

/* Style northward tooltips differently */
.d3-tip.n:after {
  margin: -2px 0 0 0;
  top: 100%;
  left: 0;
}
  </style>

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-custom">
	<!-- Preloader -->
	<div id="preloader">
	  <div id="load"></div>
	</div>

    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <a class="navbar-brand" href="index.html">
                    <h1 style="margin: 0 0 30px;">Saferoad</h1>
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
					<li class="active"><a href="#intro">Home</a></li>
					<li><a href="#predictions">Predictions</a></li>
          <li><a href="#exploreYourOwn">Explore On Your Own</a></li>
					<li><a href="#about">About</a></li>
					<!--<li><a href="#about">About Us</a></li>
                    li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Example menu</a></li>
                            <li><a href="#">Example menu</a></li>
                            <li><a href="#">Example menu</a></li>
                        </ul-->
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

	<!-- Section: Title on top of Image -->
    <section id="top-title" class="intro" style="height: 300px; padding-top: 150px;">
		<div class="slogan fluid ">
			<h2>Saferoad</h2>
		</div>
    </section>

	<!-- Section: visualization -->
	<section id="intro" class="text-center">
		<!-- about code -->
		<div id="predictions" class="container " style="margin-bottom: 25px;">
      <p style="font-size: 18px;margin-top: 20px;">SafeRoad predicts the probability of motor vehicle collisions by zip code and hour in the next 10 days. All times are local. The heatmap can by updated using the datetime dropdown menu. Click on the heatmap for more information about the prediction for a particular zipcode.</p>

      <Hr/>
      <h4>Snapshot at Each Hour</h4><br/>
      Date:
      <select id="dateSelector" class="selectpicker"></select>
      Hour:
      <select id="hourSelector" class="selectpicker"></select>

      <button id="updateButton" class="btn btn-default">Update</button><br/>


      	<!--<h4>As of <span id="currentDate"></span> at <span id="currentHour"></span>:</h4>-->

      	<div id="map" style="border:1px solid #ccc"></div>
        <div style="display:inline-block;">
        <div class="zipInfo" style="display:none;"><h4>Zipcode: <span id="zipInfoPopupCode"></span></h4>
<button type="button" class="btn btn-default" style="
    float: right;
">
  <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
  <div style="float:left"><h5>Weather</h5>
  Conditon: Sunny (image)<br>
  Temperature: -3<br>

  <h5>Miscellaneous</h5>

  Liquor Licenses: 10<br>
  Road Repair Requests: 10<br>

  </div>
  <div id="smallMap" style="border:1px solid #ccc"></div>

</div>
      	<div id="lineChart"></div>
      </div>
      <hr>
      <h4>Overall trend in the number of high-risk zipcodes in the next 10 days</h4>
      Threshold: <input type="text" id="probThreshold" value=".5" /><button id="updateThresholdButton">Update with threshold</button>
      <div id="highProbCounChart"></div>

		</div>

    <div id="exploreYourOwn" class="container " style="margin-top: 50px; margin-bottom: 25px;">
			<hr><h4>Explore On Your Own</h4>
			<div class="container"><a href="&#10;https://50.97.217.204:9999/notebooks/Infrastructure_Capstone/notebook/NYC_Collision_Analysis_with_Pyspark.ipynb">Click here to go to ipython notebook to  explore on your own</a>
      </div>
    </div>


		<div id="about" class="container " style="margin-top: 50px; margin-bottom: 25px;">
			<hr><h4>About Us</h4>
			<div class="container">
				<div class="row">
					<div class="col-xs-6 col-sm-3 col-md-3">
						<div class="wow bounceInUp" data-wow-delay="0.2s">
							<div class="team boxed-grey">
								<div class="inner">
									<div class="avatar"><img src="img/team/1b.jpg" alt="" class="img-responsive img-circle" /></div>
									<h5>Julian Phillips</h5>
									<p class="subtitle">MIDS Student</p>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-6 col-sm-3 col-md-3">
						<div class="wow bounceInUp" data-wow-delay="0.5s">
							<div class="team boxed-grey">
								<div class="inner">

									<div class="avatar"><img src="img/team/2b.jpg" alt="" class="img-responsive img-circle" /></div>
									<h5>Kasane Utsumi</h5>
									<p class="subtitle">MIDS Student</p>

								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-6 col-sm-3 col-md-3">
						<div class="wow bounceInUp" data-wow-delay="0.8s">
							<div class="team boxed-grey">
								<div class="inner">
									<div class="avatar"><img src="img/team/3b.jpg" alt="" class="img-responsive img-circle" /></div>
									<h5>David Rose</h5>
									<p class="subtitle">MIDS Student</p>

								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-6 col-sm-3 col-md-3">
						<div class="wow bounceInUp" data-wow-delay="1s">
							<div class="team boxed-grey">
								<div class="inner">
									<div class="avatar"><img src="img/team/4b.jpg" alt="" class="img-responsive img-circle" /></div>
									<h5>Andrea Soto</h5>
									<p class="subtitle">MIDS Student</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

<iframe src="http://169.53.138.92:5601/app/kibana#/dashboard/Katherine's-EDA-Dashboard?embed=true&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:'2012-01-01T08:00:00.000Z',mode:absolute,to:'2016-03-14T21:27:06.926Z'))&_a=(filters:!(),options:(darkTheme:!f),panels:!((col:1,id:Collision_by_Rainfall,panelIndex:1,row:10,size_x:6,size_y:7,type:visualization),(col:8,id:Fatality_by_Hour,panelIndex:2,row:3,size_x:5,size_y:7,type:visualization),(col:1,id:Heatmap_2013-2014-2015,panelIndex:3,row:3,size_x:7,size_y:7,type:visualization),(col:1,id:Numbers-Sums,panelIndex:4,row:1,size_x:12,size_y:2,type:visualization),(col:7,id:collisions_by_Snowfall,panelIndex:5,row:10,size_x:6,size_y:7,type:visualization)),query:(query_string:(analyze_wildcard:!t,query:'*')),title:'Katherine!'s%20EDA%20Dashboard',uiState:())" height="600" width="1000"></iframe>
    <!-- Section: data -->

<div> image credit: http://www.cnn.com/2014/10/31/us/gallery/new-york-city-aerials/</div>



    <script src="assets/js/colorbrewer.js"></script>
  	<script src="assets/js/jquery-1.11.3.js"></script>
  	<script src="assets/js/d3.min.js"></script>
    <script src="assets/js/d3-tip.js"></script>

  	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
  	<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
  	<!--<script src='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js'></script>
  	<link href='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.css' rel='stylesheet' />-->
  	<link href="bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">
  	<!-- Include all compiled plugins (below), or include individual files as needed -->
  	<script src="bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
    <script src="assets/js/saferoad.js"></script>
    <script src="js/bootstrap-select.js"></script>


    <!-- Custom Theme JavaScript -->
    <script src="js/custom.js"></script>

    <!--zip code geojson -->
    <script src="assets/data/nyc_zip_codes_multipolygon_filtered.js"></script>
    <!--Taken from here: https://github.com/Leaflet/Leaflet.heat-->
    <script src="assets/js/leaflet-heat.js"></script>
</body>

</html>
